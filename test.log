Building  with all tests enabled and called
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -fanalyzer -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -DCALL_TEST0 -DCALL_TEST1 -DCALL_TEST2 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -fanalyzer -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -DCALL_TEST0 -DCALL_TEST1 -DCALL_TEST2 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -fanalyzer -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -DCALL_TEST0 -DCALL_TEST1 -DCALL_TEST2 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
no_leak_1: "string0string1"
Building analyzer-malloc-leak with "-DCALL_TEST0 -DDEFINE_TEST0"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
In function ‘no_leak_0’:
analyzer-malloc-leak.c:24:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   24 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_0’: events 1-7
    |
    |   14 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   17 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   18 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   21 |  *outp = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |......
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (7) following ‘false’ branch...
    |
  ‘no_leak_0’: event 8
    |
    |cc1:
    | (8): ...to here
    |
  ‘no_leak_0’: event 9
    |
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (9) ‘out’ leaks here; was allocated at (3)
    |
cc1: all warnings being treated as errors
make[1]: *** [Makefile:55: analyzer-malloc-leak.o] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1461083== Memcheck, a memory error detector
==1461083== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1461083== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1461083== Command: ./analyzer-malloc-leak
==1461083== 
no_leak_0: "string0string1"
==1461083== 
==1461083== HEAP SUMMARY:
==1461083==     in use at exit: 0 bytes in 0 blocks
==1461083==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1461083== 
==1461083== All heap blocks were freed -- no leaks are possible
==1461083== 
==1461083== For lists of detected and suppressed errors, rerun with: -s
==1461083== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak with "-DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
In function ‘no_leak_0’:
analyzer-malloc-leak.c:24:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   24 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_0’: events 1-7
    |
    |   14 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   17 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   18 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   21 |  *outp = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |......
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (7) following ‘false’ branch...
    |
  ‘no_leak_0’: event 8
    |
    |cc1:
    | (8): ...to here
    |
  ‘no_leak_0’: event 9
    |
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (9) ‘out’ leaks here; was allocated at (3)
    |
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~~~~~~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |cc1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (11) ‘out’ leaks here; was allocated at (3)
    |
cc1: all warnings being treated as errors
make[1]: *** [Makefile:55: analyzer-malloc-leak.o] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1461538== Memcheck, a memory error detector
==1461538== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1461538== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1461538== Command: ./analyzer-malloc-leak
==1461538== 
no_leak_0: "string0string1"
==1461538== 
==1461538== HEAP SUMMARY:
==1461538==     in use at exit: 0 bytes in 0 blocks
==1461538==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1461538== 
==1461538== All heap blocks were freed -- no leaks are possible
==1461538== 
==1461538== For lists of detected and suppressed errors, rerun with: -s
==1461538== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak with "-DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
Building analyzer-malloc-leak with "-DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
Building analyzer-malloc-leak with "-DCALL_TEST1 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST1 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~~~~~~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |cc1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (11) ‘out’ leaks here; was allocated at (3)
    |
cc1: all warnings being treated as errors
make[1]: *** [Makefile:55: analyzer-malloc-leak.o] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1462109== Memcheck, a memory error detector
==1462109== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1462109== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1462109== Command: ./analyzer-malloc-leak
==1462109== 
no_leak_1: "string0string1"
==1462109== 
==1462109== HEAP SUMMARY:
==1462109==     in use at exit: 0 bytes in 0 blocks
==1462109==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1462109== 
==1462109== All heap blocks were freed -- no leaks are possible
==1462109== 
==1462109== For lists of detected and suppressed errors, rerun with: -s
==1462109== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak with "-DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
In function ‘no_leak_0’:
analyzer-malloc-leak.c:24:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   24 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_0’: events 1-7
    |
    |   14 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   17 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   18 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   21 |  *outp = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |......
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (7) following ‘false’ branch...
    |
  ‘no_leak_0’: event 8
    |
    |cc1:
    | (8): ...to here
    |
  ‘no_leak_0’: event 9
    |
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (9) ‘out’ leaks here; was allocated at (3)
    |
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~~~~~~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |cc1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (11) ‘out’ leaks here; was allocated at (3)
    |
cc1: all warnings being treated as errors
make[1]: *** [Makefile:55: analyzer-malloc-leak.o] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1462131== Memcheck, a memory error detector
==1462131== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1462131== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1462131== Command: ./analyzer-malloc-leak
==1462131== 
no_leak_1: "string0string1"
==1462131== 
==1462131== HEAP SUMMARY:
==1462131==     in use at exit: 0 bytes in 0 blocks
==1462131==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1462131== 
==1462131== All heap blocks were freed -- no leaks are possible
==1462131== 
==1462131== For lists of detected and suppressed errors, rerun with: -s
==1462131== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak with "-DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_1: "string0string1"
Building analyzer-malloc-leak with "-DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_1: "string0string1"
Building analyzer-malloc-leak with "-DCALL_TEST2 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST2 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST2 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST2 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
Building analyzer-malloc-leak with "-DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
Building analyzer-malloc-leak with "-DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
Building analyzer-malloc-leak with "-DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
Building analyzer-malloc-leak with "-DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
In function ‘no_leak_0’:
analyzer-malloc-leak.c:24:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   24 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_0’: events 1-7
    |
    |   14 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   17 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   18 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   21 |  *outp = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |......
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (7) following ‘false’ branch...
    |
  ‘no_leak_0’: event 8
    |
    |cc1:
    | (8): ...to here
    |
  ‘no_leak_0’: event 9
    |
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (9) ‘out’ leaks here; was allocated at (3)
    |
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~~~~~~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |cc1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (11) ‘out’ leaks here; was allocated at (3)
    |
cc1: all warnings being treated as errors
make[1]: *** [Makefile:55: analyzer-malloc-leak.o] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1462231== Memcheck, a memory error detector
==1462231== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1462231== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1462231== Command: ./analyzer-malloc-leak
==1462231== 
no_leak_0: "string0string1"
no_leak_1: "string0string1"
==1462231== 
==1462231== HEAP SUMMARY:
==1462231==     in use at exit: 0 bytes in 0 blocks
==1462231==   total heap usage: 2 allocs, 2 frees, 28 bytes allocated
==1462231== 
==1462231== All heap blocks were freed -- no leaks are possible
==1462231== 
==1462231== For lists of detected and suppressed errors, rerun with: -s
==1462231== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak with "-DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
Building analyzer-malloc-leak with "-DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_1: "string0string1"
Building analyzer-malloc-leak with "-DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
no_leak_1: "string0string1"
Building analyzer-malloc-leak with "-DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
Building analyzer-malloc-leak with "-DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_1: "string0string1"
Building  with all tests enabled and called
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -fanalyzer -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -DCALL_TEST0 -DCALL_TEST1 -DCALL_TEST2 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -fanalyzer -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -DCALL_TEST0 -DCALL_TEST1 -DCALL_TEST2 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -fanalyzer -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -DCALL_TEST0 -DCALL_TEST1 -DCALL_TEST2 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
no_leak_1: "string0string1"
Building analyzer-malloc-leak.lto with "-DCALL_TEST0 -DDEFINE_TEST0"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
Building analyzer-malloc-leak.lto with "-DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out_25’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out_25’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out_25’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp_26(D)’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |lto1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^
    |      |  |
    |      |  (11) ‘out_25’ leaks here; was allocated at (3)
    |
lto1: all warnings being treated as errors
lto-wrapper: fatal error: /usr/bin/gcc returned 1 exit status
compilation terminated.
/usr/bin/ld: error: lto-wrapper failed
collect2: error: ld returned 1 exit status
make[1]: *** [Makefile:64: analyzer-malloc-leak.lto] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1462380== Memcheck, a memory error detector
==1462380== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1462380== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1462380== Command: ./analyzer-malloc-leak.lto
==1462380== 
no_leak_0: "string0string1"
==1462380== 
==1462380== HEAP SUMMARY:
==1462380==     in use at exit: 0 bytes in 0 blocks
==1462380==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1462380== 
==1462380== All heap blocks were freed -- no leaks are possible
==1462380== 
==1462380== For lists of detected and suppressed errors, rerun with: -s
==1462380== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak.lto with "-DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
Building analyzer-malloc-leak.lto with "-DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
Building analyzer-malloc-leak.lto with "-DCALL_TEST1 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out_25’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out_25’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out_25’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp_26(D)’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |lto1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^
    |      |  |
    |      |  (11) ‘out_25’ leaks here; was allocated at (3)
    |
lto1: all warnings being treated as errors
lto-wrapper: fatal error: /usr/bin/gcc returned 1 exit status
compilation terminated.
/usr/bin/ld: error: lto-wrapper failed
collect2: error: ld returned 1 exit status
make[1]: *** [Makefile:64: analyzer-malloc-leak.lto] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1462455== Memcheck, a memory error detector
==1462455== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1462455== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1462455== Command: ./analyzer-malloc-leak.lto
==1462455== 
no_leak_1: "string0string1"
==1462455== 
==1462455== HEAP SUMMARY:
==1462455==     in use at exit: 0 bytes in 0 blocks
==1462455==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1462455== 
==1462455== All heap blocks were freed -- no leaks are possible
==1462455== 
==1462455== For lists of detected and suppressed errors, rerun with: -s
==1462455== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak.lto with "-DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out_25’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out_25’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out_25’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp_26(D)’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |lto1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^
    |      |  |
    |      |  (11) ‘out_25’ leaks here; was allocated at (3)
    |
In function ‘no_leak_0’:
analyzer-malloc-leak.c:24:2: error: leak of ‘out_16’ [CWE-401] [-Werror=analyzer-malloc-leak]
   24 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^
  ‘no_leak_0’: events 1-7
    |
    |   14 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   17 |  char *out = calloc(1, outsz);
    |      |  ~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   18 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out_24’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out_24’ is non-NULL)...
    |......
    |   21 |  *outp = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |......
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~
    |      |  |
    |      |  (7) following ‘false’ branch...
    |
  ‘no_leak_0’: event 8
    |
    |lto1:
    | (8): ...to here
    |
  ‘no_leak_0’: event 9
    |
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^
    |      |  |
    |      |  (9) ‘out_16’ leaks here; was allocated at (3)
    |
lto1: all warnings being treated as errors
lto-wrapper: fatal error: /usr/bin/gcc returned 1 exit status
compilation terminated.
/usr/bin/ld: error: lto-wrapper failed
collect2: error: ld returned 1 exit status
make[1]: *** [Makefile:64: analyzer-malloc-leak.lto] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1462486== Memcheck, a memory error detector
==1462486== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1462486== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1462486== Command: ./analyzer-malloc-leak.lto
==1462486== 
no_leak_1: "string0string1"
==1462486== 
==1462486== HEAP SUMMARY:
==1462486==     in use at exit: 0 bytes in 0 blocks
==1462486==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1462486== 
==1462486== All heap blocks were freed -- no leaks are possible
==1462486== 
==1462486== For lists of detected and suppressed errors, rerun with: -s
==1462486== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak.lto with "-DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_1: "string0string1"
Building analyzer-malloc-leak.lto with "-DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_1: "string0string1"
Building analyzer-malloc-leak.lto with "-DCALL_TEST2 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
Building analyzer-malloc-leak.lto with "-DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
Building analyzer-malloc-leak.lto with "-DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
Building analyzer-malloc-leak.lto with "-DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST2 -DDEFINE_TEST2 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
Building analyzer-malloc-leak.lto with "-DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out_25’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out_25’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out_25’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp_26(D)’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |lto1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^
    |      |  |
    |      |  (11) ‘out_25’ leaks here; was allocated at (3)
    |
lto1: all warnings being treated as errors
lto-wrapper: fatal error: /usr/bin/gcc returned 1 exit status
compilation terminated.
/usr/bin/ld: error: lto-wrapper failed
collect2: error: ld returned 1 exit status
make[1]: *** [Makefile:64: analyzer-malloc-leak.lto] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1462636== Memcheck, a memory error detector
==1462636== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1462636== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1462636== Command: ./analyzer-malloc-leak.lto
==1462636== 
no_leak_0: "string0string1"
no_leak_1: "string0string1"
==1462636== 
==1462636== HEAP SUMMARY:
==1462636==     in use at exit: 0 bytes in 0 blocks
==1462636==   total heap usage: 2 allocs, 2 frees, 28 bytes allocated
==1462636== 
==1462636== All heap blocks were freed -- no leaks are possible
==1462636== 
==1462636== For lists of detected and suppressed errors, rerun with: -s
==1462636== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak.lto with "-DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
Building analyzer-malloc-leak.lto with "-DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_1: "string0string1"
Building analyzer-malloc-leak.lto with "-DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
no_leak_1: "string0string1"
Building analyzer-malloc-leak.lto with "-DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DCALL_TEST2 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
Building analyzer-malloc-leak.lto with "-DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST1 -DCALL_TEST1 -DDEFINE_TEST0 -DDEFINE_TEST1 -DDEFINE_TEST2 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_1: "string0string1"
