Building  with all tests enabled and called
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -fanalyzer -DDEFINE_TEST0 -DDEFINE_TEST1 -DCALL_TEST0 -DCALL_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
In function ‘no_leak_0’:
analyzer-malloc-leak.c:24:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   24 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_0’: events 1-7
    |
    |   14 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   17 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   18 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   21 |  *outp = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |......
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (7) following ‘false’ branch...
    |
  ‘no_leak_0’: event 8
    |
    |cc1:
    | (8): ...to here
    |
  ‘no_leak_0’: event 9
    |
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (9) ‘out’ leaks here; was allocated at (3)
    |
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~~~~~~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |cc1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (11) ‘out’ leaks here; was allocated at (3)
    |
cc1: all warnings being treated as errors
make[1]: *** [Makefile:36: analyzer-malloc-leak.o] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DDEFINE_TEST0 -DDEFINE_TEST1 -DCALL_TEST0 -DCALL_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DDEFINE_TEST0 -DDEFINE_TEST1 -DCALL_TEST0 -DCALL_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DDEFINE_TEST0 -DDEFINE_TEST1 -DCALL_TEST0 -DCALL_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1379788== Memcheck, a memory error detector
==1379788== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1379788== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1379788== Command: ./analyzer-malloc-leak
==1379788== 
no_leak_0: "string0string1"
no_leak_1: "string0string1"
==1379788== 
==1379788== HEAP SUMMARY:
==1379788==     in use at exit: 0 bytes in 0 blocks
==1379788==   total heap usage: 2 allocs, 2 frees, 28 bytes allocated
==1379788== 
==1379788== All heap blocks were freed -- no leaks are possible
==1379788== 
==1379788== For lists of detected and suppressed errors, rerun with: -s
==1379788== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak with "-DCALL_TEST0 -DDEFINE_TEST0"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
In function ‘no_leak_0’:
analyzer-malloc-leak.c:24:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   24 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_0’: events 1-7
    |
    |   14 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   17 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   18 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   21 |  *outp = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |......
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (7) following ‘false’ branch...
    |
  ‘no_leak_0’: event 8
    |
    |cc1:
    | (8): ...to here
    |
  ‘no_leak_0’: event 9
    |
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (9) ‘out’ leaks here; was allocated at (3)
    |
cc1: all warnings being treated as errors
make[1]: *** [Makefile:36: analyzer-malloc-leak.o] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1379806== Memcheck, a memory error detector
==1379806== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1379806== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1379806== Command: ./analyzer-malloc-leak
==1379806== 
no_leak_0: "string0string1"
==1379806== 
==1379806== HEAP SUMMARY:
==1379806==     in use at exit: 0 bytes in 0 blocks
==1379806==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1379806== 
==1379806== All heap blocks were freed -- no leaks are possible
==1379806== 
==1379806== For lists of detected and suppressed errors, rerun with: -s
==1379806== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak with "-DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
In function ‘no_leak_0’:
analyzer-malloc-leak.c:24:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   24 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_0’: events 1-7
    |
    |   14 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   17 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   18 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   21 |  *outp = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |......
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (7) following ‘false’ branch...
    |
  ‘no_leak_0’: event 8
    |
    |cc1:
    | (8): ...to here
    |
  ‘no_leak_0’: event 9
    |
    |   24 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (9) ‘out’ leaks here; was allocated at (3)
    |
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~~~~~~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |cc1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (11) ‘out’ leaks here; was allocated at (3)
    |
cc1: all warnings being treated as errors
make[1]: *** [Makefile:36: analyzer-malloc-leak.o] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1379821== Memcheck, a memory error detector
==1379821== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1379821== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1379821== Command: ./analyzer-malloc-leak
==1379821== 
no_leak_0: "string0string1"
==1379821== 
==1379821== HEAP SUMMARY:
==1379821==     in use at exit: 0 bytes in 0 blocks
==1379821==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1379821== 
==1379821== All heap blocks were freed -- no leaks are possible
==1379821== 
==1379821== For lists of detected and suppressed errors, rerun with: -s
==1379821== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak with "-DCALL_TEST1 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST1 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^~~
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^~~
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~~~~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~~~~~~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~~~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |cc1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^~~
    |      |  |
    |      |  (11) ‘out’ leaks here; was allocated at (3)
    |
cc1: all warnings being treated as errors
make[1]: *** [Makefile:36: analyzer-malloc-leak.o] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.o analyzer-malloc-leak.c
gcc -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.o analyzer-malloc-leak.main.c
gcc -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak analyzer-malloc-leak.o analyzer-malloc-leak.main.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1379838== Memcheck, a memory error detector
==1379838== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1379838== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1379838== Command: ./analyzer-malloc-leak
==1379838== 
no_leak_1: "string0string1"
==1379838== 
==1379838== HEAP SUMMARY:
==1379838==     in use at exit: 0 bytes in 0 blocks
==1379838==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1379838== 
==1379838== All heap blocks were freed -- no leaks are possible
==1379838== 
==1379838== For lists of detected and suppressed errors, rerun with: -s
==1379838== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building  with all tests enabled and called
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -fanalyzer -DDEFINE_TEST0 -DDEFINE_TEST1 -DCALL_TEST0 -DCALL_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -fanalyzer -DDEFINE_TEST0 -DDEFINE_TEST1 -DCALL_TEST0 -DCALL_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -fanalyzer -DDEFINE_TEST0 -DDEFINE_TEST1 -DCALL_TEST0 -DCALL_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out_25’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out_25’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out_25’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp_26(D)’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |lto1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^
    |      |  |
    |      |  (11) ‘out_25’ leaks here; was allocated at (3)
    |
lto1: all warnings being treated as errors
lto-wrapper: fatal error: /usr/bin/gcc returned 1 exit status
compilation terminated.
/usr/bin/ld: error: lto-wrapper failed
collect2: error: ld returned 1 exit status
make[1]: *** [Makefile:45: analyzer-malloc-leak.lto] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DDEFINE_TEST0 -DDEFINE_TEST1 -DCALL_TEST0 -DCALL_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DDEFINE_TEST0 -DDEFINE_TEST1 -DCALL_TEST0 -DCALL_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DDEFINE_TEST0 -DDEFINE_TEST1 -DCALL_TEST0 -DCALL_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1379865== Memcheck, a memory error detector
==1379865== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1379865== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1379865== Command: ./analyzer-malloc-leak.lto
==1379865== 
no_leak_0: "string0string1"
no_leak_1: "string0string1"
==1379865== 
==1379865== HEAP SUMMARY:
==1379865==     in use at exit: 0 bytes in 0 blocks
==1379865==   total heap usage: 2 allocs, 2 frees, 28 bytes allocated
==1379865== 
==1379865== All heap blocks were freed -- no leaks are possible
==1379865== 
==1379865== For lists of detected and suppressed errors, rerun with: -s
==1379865== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak.lto with "-DCALL_TEST0 -DDEFINE_TEST0"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
no_leak_0: "string0string1"
Building analyzer-malloc-leak.lto with "-DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out_25’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out_25’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out_25’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp_26(D)’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |lto1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^
    |      |  |
    |      |  (11) ‘out_25’ leaks here; was allocated at (3)
    |
lto1: all warnings being treated as errors
lto-wrapper: fatal error: /usr/bin/gcc returned 1 exit status
compilation terminated.
/usr/bin/ld: error: lto-wrapper failed
collect2: error: ld returned 1 exit status
make[1]: *** [Makefile:45: analyzer-malloc-leak.lto] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST0 -DDEFINE_TEST0 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1379905== Memcheck, a memory error detector
==1379905== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1379905== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1379905== Command: ./analyzer-malloc-leak.lto
==1379905== 
no_leak_0: "string0string1"
==1379905== 
==1379905== HEAP SUMMARY:
==1379905==     in use at exit: 0 bytes in 0 blocks
==1379905==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1379905== 
==1379905== All heap blocks were freed -- no leaks are possible
==1379905== 
==1379905== For lists of detected and suppressed errors, rerun with: -s
==1379905== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
Building analyzer-malloc-leak.lto with "-DCALL_TEST1 -DDEFINE_TEST1"
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fanalyzer -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
In function ‘no_leak_1’:
analyzer-malloc-leak.c:54:2: error: leak of ‘out_25’ [CWE-401] [-Werror=analyzer-malloc-leak]
   54 |  for (unsigned int i = 0; i < insz; i++) {
      |  ^
  ‘no_leak_1’: events 1-9
    |
    |   40 |  for (unsigned int i = 0; i < insz; i++)
    |      |  ^
    |      |  |
    |      |  (1) following ‘false’ branch...
    |......
    |   43 |  char *out = calloc(1, outsz);
    |      |  ~
    |      |  |
    |      |  (2) ...to here
    |      |  (3) allocated here
    |   44 |  if (!out)
    |      |     ~
    |      |     |
    |      |     (4) assuming ‘out_25’ is non-NULL
    |      |     (5) following ‘false’ branch (when ‘out_25’ is non-NULL)...
    |......
    |   47 |  handle ret = out;
    |      |  ~
    |      |  |
    |      |  (6) ...to here
    |   48 | 
    |   49 |  if (outp)
    |      |     ~
    |      |     |
    |      |     (7) following ‘false’ branch (when ‘outp_26(D)’ is NULL)...
    |   50 |   *outp = out;
    |   51 |  *outszp = outsz;
    |      |  ~
    |      |  |
    |      |  (8) ...to here
    |......
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ~
    |      |  |
    |      |  (9) following ‘false’ branch...
    |
  ‘no_leak_1’: event 10
    |
    |lto1:
    | (10): ...to here
    |
  ‘no_leak_1’: event 11
    |
    |   54 |  for (unsigned int i = 0; i < insz; i++) {
    |      |  ^
    |      |  |
    |      |  (11) ‘out_25’ leaks here; was allocated at (3)
    |
lto1: all warnings being treated as errors
lto-wrapper: fatal error: /usr/bin/gcc returned 1 exit status
compilation terminated.
/usr/bin/ld: error: lto-wrapper failed
collect2: error: ld returned 1 exit status
make[1]: *** [Makefile:45: analyzer-malloc-leak.lto] Error 1
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
make[1]: Entering directory '/home/pjones/devel/local/gcc-tests'
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.lto.o analyzer-malloc-leak.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -c -o analyzer-malloc-leak.main.lto.o analyzer-malloc-leak.main.c
gcc -flto -DCALL_TEST1 -DDEFINE_TEST1 -fdiagnostics-color=auto -fdiagnostics-format=text -fdiagnostics-show-cwe -fmessage-length=0 -O2 -g3 -Wall -Wextra -Werror -o analyzer-malloc-leak.lto analyzer-malloc-leak.lto.o analyzer-malloc-leak.main.lto.o
make[1]: Leaving directory '/home/pjones/devel/local/gcc-tests'
==1379932== Memcheck, a memory error detector
==1379932== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1379932== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==1379932== Command: ./analyzer-malloc-leak.lto
==1379932== 
no_leak_1: "string0string1"
==1379932== 
==1379932== HEAP SUMMARY:
==1379932==     in use at exit: 0 bytes in 0 blocks
==1379932==   total heap usage: 1 allocs, 1 frees, 14 bytes allocated
==1379932== 
==1379932== All heap blocks were freed -- no leaks are possible
==1379932== 
==1379932== For lists of detected and suppressed errors, rerun with: -s
==1379932== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
